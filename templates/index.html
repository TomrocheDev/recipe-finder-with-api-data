<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- BOOTSTRAP -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous" />

    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="../static/css/overall-styles.css" />
    <link rel="stylesheet" href="../static/css/home.css" />

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet" />

    <title>What's Cooking!</title>
  </head>
  <body>
    <div class="alert alert-success" role="alert">
      
    </div>
    <nav class="navbar navbar-expand-lg bg-danger">
      <div class="container-fluid brand-container">
        <a class="navbar-brand" href="/">What's Cooking!</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="#"
                >Search Recipes</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/saved_recipes">Saved Recipes</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img
            src="https://images.unsplash.com/photo-1547592180-85f173990554?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
            class="d-block w-100"
            alt="Image of healthy food" />
        </div>
        <div class="carousel-item">
          <img
            src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
            class="d-block w-100"
            alt="Image of healty food" />
        </div>
        <div class="carousel-item">
          <img
            src="https://images.unsplash.com/photo-1598866594230-a7c12756260f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2016&q=80"
            class="d-block w-100"
            alt="Image of a steak with potatoes" />
        </div>
      </div>
    </div>

    <div class="find-recipes-form-container">
      <h2 class="recipe-form-header">What's Cooking, good lookin'?</h2>

      <form class="find-recipes-form" action="/" method="post">
        <div class="input-group mb-3">
          <input
            type="text"
            name="user-input"
            class="form-control"
            placeholder="Enter ingredients"
            aria-label="Enter ingredients"
            required
            autocomplete="off" />
          <button class="btn btn-outline-danger search-btn" type="submit">
            Find recipes!
          </button>
        </div>
      </form>
    </div>

    {% if show_next %}
    <div class="pagination-container">
      <form class="pagination" action="/next_page">
        <button class="next-page btn btn-outline-danger">Next Page</button>
      </form>
    </div>
    {% endif %}
    <div class="found-recipes">
      {% if recipes == None %}
      {% else %}
      {% for item in recipes %}
      <div class="card card-container" style="width: 18rem">
        <img
          src="{{ item['recipe']['image'] }}"
          class="card-img-top image-{{ loop. index }}"
          alt="Picture of recipe" />
        <div class="card-body">
          <h5 class="card-title card-title-{{ loop.index }}">{{ item["recipe"]["label"] }}</h5>
          <p class="card-text">
            <div class="recipe-details">
              <span>Calories: </span><span class="calories-{{ loop. index }}">{{ item["recipe"]["calories"] }}</span> <br />
              <span>Servings: </span><span class="servings-{{ loop. index }}">{{ item["recipe"]["yield"] }}</span> <br />
              <span>Source: </span><span class="source-{{ loop. index }}">{{ item["recipe"]["source"] }}</span> <br />
            </div>
            <div class="card-buttons">
              <a class="card-link link-{{ loop.index }}" href="{{ item['recipe']['url'] }}" target="_blank">
                <button class="visit-btn btn btn-outline-danger">Visit site</button>
              </a>
              <button class="btn btn-danger save-btn save-btn-{{ loop.index }}">Save recipe</button>
            </div>
          </p>
        </div>
      </div>
      {% endfor %}
      {% endif %}
    </div>
    {% if show_next %}
    <div class="pagination-container">
      <form class="pagination" action="/next_page">
        <button class="next-page btn btn-outline-danger">Next Page</button>
      </form>
    </div>
    {% endif %}

    <footer>An application created by Tom Roche</footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"></script>
      <script src="../static/scripts/home.js"></script>
  </body>
</html>
